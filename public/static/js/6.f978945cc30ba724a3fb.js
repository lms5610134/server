webpackJsonp([6],{JEnL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=a.n(n),l=a("q2r3"),s=a("9rMa"),r={name:"assets",data:function(){return{tableData:[],pageFindData:{pageSize:10,currentPage:1},findData:{userno:"",deviceNo:""},total:0,fileList3:[],isLoading:!0,dialogVisible:!1}},methods:i()({handleCurrentChange:function(e){this.pageFindData.currentPage=e,this.deviceQuery(this.pageFindData)},handleSizeChange:function(e){this.pageFindData.pageSize=e,this.deviceQuery(this.pageFindData)},search:function(){this.pageFindData=i()({},this.pageFindData,this.findData),this.deviceQuery(this.findData)},deviceQuery:function(e){var t=this;t.isLoading=!0,e=e||{},Object(l.c)(e).then(function(a){200==a.code&&(e=a.data,t.tableData=e.list,t.total=e.total),t.isLoading=!1})},update:function(e){this.setAssetsItem(e),this.$router.push({name:"assetsUpdate"})},seeChange:function(e){console.log(e.deviceNo),this.$router.push({name:"assetsChange",query:{id:e.deviceNo}})},upload:function(e){var t=this;if(e.target.files.length){var a=e.target.files[0];Object(l.a)(a).then(function(e){200===e.code?(t.$message({message:"导入成功",type:"success",duration:2e3}),t.deviceQuery()):t.$message.error("导入失败，"+e.message)})}}},Object(s.c)(["setAssetsItem"])),created:function(){this.deviceQuery()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumb"},[a("el-breadcrumb-item",{staticClass:"breadcrumb-item"},[e._v("资产管理")])],1),e._v(" "),a("el-row",{staticClass:"toolbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"资产编号"},model:{value:e.findData.deviceNo,callback:function(t){e.$set(e.findData,"deviceNo",t)},expression:"findData.deviceNo"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"用户工号"},model:{value:e.findData.userno,callback:function(t){e.$set(e.findData,"userno",t)},expression:"findData.userno"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"tool-btns"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("label",[a("span",{staticClass:"el-button el-button--primary is-plain",attrs:{plain:""},on:{click:e.upload}},[e._v("导入")]),e._v(" "),a("input",{attrs:{type:"file",accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",hidden:""},on:{change:e.upload}})]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""}},[e._v("打印二维码")])],1)])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{border:!0,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.tableData,"highlight-current-row":"",fit:!0}},[a("el-table-column",{attrs:{property:"deviceNo",label:"资产编号"}}),e._v(" "),a("el-table-column",{attrs:{property:"userno",label:"用户工号"}}),e._v(" "),a("el-table-column",{attrs:{property:"qrcode",label:"二维码编号"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"资产名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"brand",label:"品牌"}}),e._v(" "),a("el-table-column",{attrs:{property:"model",label:"型号"}}),e._v(" "),a("el-table-column",{attrs:{property:"username",label:"责任人"}}),e._v(" "),a("el-table-column",{attrs:{property:"office",label:"办公地点"}}),e._v(" "),a("el-table-column",{attrs:{property:"status",label:"资产状态"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.update(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.seeChange(t.row)}}},[e._v("变更记录")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageFindData.currentPage,"page-sizes":[10,15,20,50,100],"page-size":e.pageFindData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c=a("Z0/y")(r,o,!1,function(e){a("n864")},"data-v-623f2704",null);t.default=c.exports},n864:function(e,t){}});
//# sourceMappingURL=6.f978945cc30ba724a3fb.js.map