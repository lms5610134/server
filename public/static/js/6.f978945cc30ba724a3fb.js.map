{"version":3,"sources":["webpack:///src/views/assets/assets.vue","webpack:///./src/views/assets/assets.vue?45b7","webpack:///./src/views/assets/assets.vue"],"names":["assets_assets","methods","extends_default","val","pageFindData","this","findData","data","list","total","item","deviceNo","deviceQuery","message","views_assets_assets","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","gutter","span","placeholder","model","value","callback","$$v","$set","expression","type","plain","on","click","search","upload","accept","hidden","change","directives","name","rawName","ref","staticStyle","width","border","element-loading-text","element-loading-spinner","element-loading-background","tableData","highlight-current-row","fit","property","label","scopedSlots","_u","key","fn","scope","size","$event","update","row","seeChange","current-page","currentPage","page-sizes","page-size","pageSize","layout","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.f978945cc30ba724a3fb.js","sourcesContent":["<template>\n  <div>\n    <el-breadcrumb class=\"breadcrumb\">\n      <el-breadcrumb-item class=\"breadcrumb-item\">资产管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-row class=\"toolbar\" :gutter=\"20\">\n      <el-col :span=\"6\">\n        <el-input\n          placeholder=\"资产编号\"\n          v-model=\"findData.deviceNo\"\n        >\n        </el-input>\n      </el-col>\n      <el-col :span=\"6\">\n        <el-input\n          placeholder=\"用户工号\"\n          v-model=\"findData.userno\"\n        >\n        </el-input>\n      </el-col>\n      <el-col :span=\"12\">\n        <div class=\"tool-btns\">\n          <el-button type=\"primary\" @click=\"search\" plain>查询</el-button>\n          <label>\n            <span class=\"el-button el-button--primary is-plain\" @click=\"upload\" plain>导入</span>\n            <input type=\"file\" accept=\"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" @change=\"upload\" hidden>\n          </label>\n          <el-button type=\"primary\" plain>打印二维码</el-button>\n        </div>\n      </el-col>\n    </el-row>\n    <el-table\n      ref=\"singleTable\"\n      :border=\"true\"\n      v-loading=\"isLoading\"\n      element-loading-text=\"拼命加载中\"\n      element-loading-spinner=\"el-icon-loading\"\n      element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n      :data=\"tableData\"\n      highlight-current-row\n      :fit=\"true\"\n      style=\"width: 100%\"\n    >\n      <el-table-column\n        property=\"deviceNo\"\n        label=\"资产编号\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"userno\"\n        label=\"用户工号\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"qrcode\"\n        label=\"二维码编号\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"name\"\n        label=\"资产名称\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"brand\"\n        label=\"品牌\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"model\"\n        label=\"型号\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"username\"\n        label=\"责任人\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"office\"\n        label=\"办公地点\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"status\"\n        label=\"资产状态\"\n      >\n      </el-table-column>\n      <el-table-column\n        property=\"date\"\n        label=\"操作\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button @click=\"update(scope.row)\" type=\"text\" size=\"small\">修改</el-button>\n          <el-button @click=\"seeChange(scope.row)\" type=\"text\" size=\"small\">变更记录</el-button>\n        </template>\n      </el-table-column>\n\n    </el-table>\n    <div class=\"pagination\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageFindData.currentPage\"\n        :page-sizes=\"[10, 15, 20, 50, 100]\"\n        :page-size=\"pageFindData.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {deviceQuery, deviceBatch} from 'api/assets';\n  import {mapMutations} from 'vuex'\n\n  export default {\n    name: 'assets',\n    data () {\n      return {\n        tableData: [],\n        // 翻页查询数据\n        pageFindData: {\n          pageSize: 10,\n          currentPage: 1\n        },\n        // 搜索查询数据\n        findData: {\n          userno: '',\n          deviceNo: ''\n        },\n        total: 0,\n        fileList3: [],\n        isLoading: true,\n        dialogVisible: false\n      }\n    },\n    methods: {\n      handleCurrentChange(val) {\n        this.pageFindData.currentPage = val;\n        this.deviceQuery(this.pageFindData)\n      },\n      handleSizeChange(val) {\n        this.pageFindData.pageSize = val;\n        this.deviceQuery(this.pageFindData)\n      },\n      search() {\n        this.pageFindData = {\n          ...this.pageFindData,\n          ...this.findData\n        };\n        this.deviceQuery(this.findData)\n      },\n      deviceQuery(data) {\n        var me = this;\n        me.isLoading = true;\n        data = data || {};\n        deviceQuery(data).then(function (res) {\n          if (res.code == 200) {\n            data = res.data;\n            me.tableData = data.list;\n            me.total = data.total;\n          }\n          me.isLoading = false;\n        });\n      },\n      update(item) {\n        this.setAssetsItem(item);\n        this.$router.push({name: 'assetsUpdate'})\n      },\n      seeChange(item) {\n        console.log(item.deviceNo);\n        this.$router.push({name: 'assetsChange', query: {id: item.deviceNo}})\n      },\n      upload (e) {\n        var me = this;\n        if (e.target.files.length) {\n          var file = e.target.files[0];\n          deviceBatch(file).then(function (res) {\n            if (res.code === 200) {\n              me.$message({\n                message: '导入成功',\n                type: 'success',\n                duration: 2000\n              });\n              me.deviceQuery();\n            } else {\n              me.$message.error('导入失败，' + res.message);\n            }\n          })\n        }\n      },\n      ...mapMutations(['setAssetsItem'])\n    },\n    created() {\n      this.deviceQuery();\n    }\n  }\n</script>\n\n<style scoped>\n  .pagination {\n    margin-top: 10px;\n  }\n\n  .el-form-item {\n    margin-bottom: 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/assets/assets.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{staticClass:\"breadcrumb\"},[_c('el-breadcrumb-item',{staticClass:\"breadcrumb-item\"},[_vm._v(\"资产管理\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"toolbar\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"placeholder\":\"资产编号\"},model:{value:(_vm.findData.deviceNo),callback:function ($$v) {_vm.$set(_vm.findData, \"deviceNo\", $$v)},expression:\"findData.deviceNo\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"placeholder\":\"用户工号\"},model:{value:(_vm.findData.userno),callback:function ($$v) {_vm.$set(_vm.findData, \"userno\", $$v)},expression:\"findData.userno\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"tool-btns\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('label',[_c('span',{staticClass:\"el-button el-button--primary is-plain\",attrs:{\"plain\":\"\"},on:{\"click\":_vm.upload}},[_vm._v(\"导入\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"accept\":\"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\"hidden\":\"\"},on:{\"change\":_vm.upload}})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"打印二维码\")])],1)])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"singleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"border\":true,\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"data\":_vm.tableData,\"highlight-current-row\":\"\",\"fit\":true}},[_c('el-table-column',{attrs:{\"property\":\"deviceNo\",\"label\":\"资产编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"userno\",\"label\":\"用户工号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"qrcode\",\"label\":\"二维码编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"name\",\"label\":\"资产名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"brand\",\"label\":\"品牌\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"model\",\"label\":\"型号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"username\",\"label\":\"责任人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"office\",\"label\":\"办公地点\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"status\",\"label\":\"资产状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"date\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.update(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.seeChange(scope.row)}}},[_vm._v(\"变更记录\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageFindData.currentPage,\"page-sizes\":[10, 15, 20, 50, 100],\"page-size\":_vm.pageFindData.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-623f2704\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/assets/assets.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-623f2704\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./assets.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./assets.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./assets.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-623f2704\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./assets.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-623f2704\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/assets/assets.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}